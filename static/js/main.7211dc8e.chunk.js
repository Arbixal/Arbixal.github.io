(this["webpackJsonphealing-analyser"]=this["webpackJsonphealing-analyser"]||[]).push([[0],{19:function(e,a,t){},20:function(e,a,t){},21:function(e,a,t){},23:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t(1),i=t.n(s),c=t(11),r=t.n(c),l=(t(19),t(2)),o=t(3),m=t(6),h=t(5),d=t(4),u=(t(20),t(13)),g=(t(21),t(10)),j=new(function(){function e(){Object(l.a)(this,e),this.key="e422378c419a25cc1accb41845b259ab",this.domain="https://classic.warcraftlogs.com/v1/",this.reportId=null}return Object(o.a)(e,[{key:"setReport",value:function(e){this.reportId=e}},{key:"getFights",value:function(){return fetch(this.domain+"report/fights/"+this.reportId+"?api_key="+this.key).then((function(e){return e.json()}))}},{key:"getHealEvents",value:function(e,a){return Promise.all([this.getClassHealEvents(e,a,"priest"),this.getClassHealEvents(e,a,"druid"),this.getClassHealEvents(e,a,"shaman"),this.getClassHealEvents(e,a,"paladin"),this.getClassCastEvents(e,a,"priest"),this.getClassCastEvents(e,a,"druid"),this.getClassCastEvents(e,a,"shaman"),this.getClassCastEvents(e,a,"paladin")]).then((function(e){return new Promise((function(a,t){return a(e.reduce((function(e,a){return e=[].concat(Object(g.a)(e),Object(g.a)(a))}),[]))}))}))}},{key:"getClassHealEvents",value:function(e,a,t){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return new Promise((function(i,c){return fetch(n.domain+"report/events/healing/"+n.reportId+"?api_key="+n.key+"&start="+e+"&end="+a+"&sourceclass="+t).then((function(e){if(200!==e.status)throw new Error("".concat(e.stats,": ").concat(e.statusText));e.json().then((function(e){s=s.concat(e.events),e.nextPageTimestamp?n.getClassHealEvents(e.nextPageTimestamp,a,t,s).then(i).catch(c):i(s)})).catch(c)})).catch(c)}))}},{key:"getClassCastEvents",value:function(e,a,t){var n=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return new Promise((function(i,c){return fetch(n.domain+"report/events/casts/"+n.reportId+"?api_key="+n.key+"&start="+e+"&end="+a+"&sourceclass="+t).then((function(e){if(200!==e.status)throw new Error("".concat(e.stats,": ").concat(e.statusText));e.json().then((function(e){s=s.concat(e.events),e.nextPageTimestamp?n.getClassCastEvents(e.nextPageTimestamp,a,t,s).then(i).catch(c):i(s)})).catch(c)})).catch(c)}))}}]),e}());function p(e){var a=(e=(e-e%1e3)/1e3)%60;return(e=(e-a)/60)%60+":"+(a<10?"0":"")+a}function _(e){return e>1e3?(e/1e3).toFixed(1)+"k":e}var v=function(e){Object(h.a)(t,e);var a=Object(d.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(o.a)(t,[{key:"render",value:function(){var e=this.props,a=e.summary,t=e.maxHeals;return Object(n.jsxs)("div",{className:"bar",style:{width:(a.getTotalHeals()/t*100).toFixed(2)+"%"},children:[Object(n.jsx)("div",{className:"bar_effective",style:{width:a.getEffectivePercent()+"%"}}),Object(n.jsx)("div",{className:"bar_overheal",style:{width:a.getOverhealPercent()-a.getWastedPercent()+"%"},children:"\xa0"}),Object(n.jsx)("div",{className:"bar_wasted",style:{width:a.getWastedPercent()+"%"},children:"\xa0"})]})}}]),t}(s.Component),k=function(e){Object(h.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).state={mageBlood:!1,flask:!1,summary:e.healer.summary,spells:e.healer.spells,name:e.healer.name,id:e.healer.id,classType:e.healer.classType,isExpanded:!1},n.toggle=n.toggle.bind(Object(m.a)(n)),n}return Object(o.a)(t,[{key:"toggle",value:function(){this.setState({isExpanded:!this.state.isExpanded})}},{key:"render",value:function(){var e=this.state,a=e.id,t=e.name,s=e.classType,i=e.mageBlood,c=e.flask,r=e.summary,l=e.spells,o=e.isExpanded,m=this.props,h=m.row,d=m.maxHeals,u=l.reduce((function(e,a){return a.summary.getTotalHeals()>e&&(e=a.summary.getTotalHeals()),e}),0);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("tr",{className:s+" character "+(h%2===0?"even":"odd"),onClick:this.toggle,children:[Object(n.jsx)("td",{className:"healer_name",children:t}),Object(n.jsx)("td",{className:"healer_consumes_mana center",children:r.manaPots}),Object(n.jsx)("td",{className:"healer_consumes_runes center",children:r.runes}),Object(n.jsx)("td",{className:"healer_consumes_mageblood center "+(i?"tick":"cross"),children:i?"\u2714":"\u2716"}),Object(n.jsx)("td",{className:"healer_consumes_flask center "+(c?"tick":"cross"),children:c?"\u2714":"\u2716"}),Object(n.jsx)("td",{className:"right",children:_(r.manaGained)}),Object(n.jsx)("td",{className:"healer_cooldowns",children:r.cooldowns.map((function(e){return Object(n.jsx)("img",{className:"spell_icon",src:"https://assets.rpglogs.com/img/warcraft/abilities/"+e.icon,alt:e.name})}))}),Object(n.jsx)("td",{className:"healer_casts_started center",children:r.castsStarted}),Object(n.jsx)("td",{className:"healer_casts_completed center",children:r.castsCompleted}),Object(n.jsxs)("td",{className:"healer_casts percent right",children:[r.getCastsPercent(),"%"]}),Object(n.jsx)("td",{className:"healer_amount",children:Object(n.jsx)(v,{summary:r,maxHeals:d})}),Object(n.jsx)("td",{className:"healer_effective amount right",children:_(r.effectiveHeals)}),Object(n.jsxs)("td",{className:"healer_effective percent right",children:[r.getEffectivePercent(),"%"]}),Object(n.jsx)("td",{className:"healer_overheal amount right",children:_(r.overHeal)}),Object(n.jsxs)("td",{className:"healer_overheal percent right",children:[r.getOverhealPercent(),"%"]}),Object(n.jsx)("td",{className:"healer_wasted amount right",children:_(r.wastedHeals)}),Object(n.jsxs)("td",{className:"healer_wasted percent right",children:[r.getWastedPercent(),"%"]}),Object(n.jsx)("td",{className:"healer_wasted percent right",children:_(r.wastedMana)})]},a),o&&l.sort((function(e,a){return a.summary.effectiveHeals-e.summary.effectiveHeals})).map((function(e){return Object(n.jsxs)("tr",{className:s+" spell "+(h%2===0?"even":"odd"),children:[Object(n.jsxs)("td",{className:"healer_name",colspan:"7",children:[Object(n.jsx)("img",{className:"spell_icon",src:"https://assets.rpglogs.com/img/warcraft/abilities/"+e.icon,alt:e.name})," ",e.name]}),Object(n.jsx)("td",{className:"healer_casts_started center",children:e.summary.castsStarted}),Object(n.jsx)("td",{className:"healer_casts_completed center",children:e.summary.castsCompleted}),Object(n.jsxs)("td",{className:"healer_casts percent right",children:[e.summary.getCastsPercent(),"%"]}),Object(n.jsx)("td",{className:"healer_amount",children:Object(n.jsx)(v,{summary:e.summary,maxHeals:u})}),Object(n.jsx)("td",{className:"healer_effective amount right",children:_(e.summary.effectiveHeals)}),Object(n.jsxs)("td",{className:"healer_effective percent right",children:[e.summary.getEffectivePercent(),"%"]}),Object(n.jsx)("td",{className:"healer_overheal amount right",children:_(e.summary.overHeal)}),Object(n.jsxs)("td",{className:"healer_overheal percent right",children:[e.summary.getOverhealPercent(),"%"]}),Object(n.jsx)("td",{className:"healer_wasted amount right",children:_(e.summary.wastedHeals)}),Object(n.jsxs)("td",{className:"healer_wasted percent right",children:[e.summary.getWastedPercent(),"%"]}),Object(n.jsx)("td",{className:"healer_wasted percent right",children:_(e.summary.wastedMana)})]},e.id)}))]})}}]),t}(s.Component),b={2054:{name:"Heal (Rank 1)",icon:"spell_holy_heal02.jpg",mana:155,castTime:3e3},2055:{name:"Heal (Rank 2)",icon:"spell_holy_heal02.jpg",mana:205,castTime:3e3},6063:{name:"Heal (Rank 3)",icon:"spell_holy_heal02.jpg",mana:255,castTime:3e3},6064:{name:"Heal (Rank 4)",icon:"spell_holy_heal02.jpg",mana:305,castTime:3e3},2061:{name:"Flash Heal (Rank 1)",icon:"spell_holy_flashheal.jpg",mana:125,castTime:1500},9472:{name:"Flash Heal (Rank 2)",icon:"spell_holy_flashheal.jpg",mana:155,castTime:1500},9473:{name:"Flash Heal (Rank 3)",icon:"spell_holy_flashheal.jpg",mana:185,castTime:1500},9474:{name:"Flash Heal (Rank 4)",icon:"spell_holy_flashheal.jpg",mana:215,castTime:1500},10915:{name:"Flash Heal (Rank 5)",icon:"spell_holy_flashheal.jpg",mana:265,castTime:1500},10916:{name:"Flash Heal (Rank 6)",icon:"spell_holy_flashheal.jpg",mana:315,castTime:1500},10917:{name:"Flash Heal (Rank 7)",icon:"spell_holy_flashheal.jpg",mana:380,castTime:1500},139:{name:"Renew (Rank 1)",icon:"spell_holy_renew.jpg",mana:30,castTime:0,ticks:5,tickPortion:1},6074:{name:"Renew (Rank 2)",icon:"spell_holy_renew.jpg",mana:65,castTime:0,ticks:5,tickPortion:1},6075:{name:"Renew (Rank 3)",icon:"spell_holy_renew.jpg",mana:105,castTime:0,ticks:5,tickPortion:1},6076:{name:"Renew (Rank 4)",icon:"spell_holy_renew.jpg",mana:140,castTime:0,ticks:5,tickPortion:1},6077:{name:"Renew (Rank 5)",icon:"spell_holy_renew.jpg",mana:170,castTime:0,ticks:5,tickPortion:1},6078:{name:"Renew (Rank 6)",icon:"spell_holy_renew.jpg",mana:205,castTime:0,ticks:5,tickPortion:1},10927:{name:"Renew (Rank 7)",icon:"spell_holy_renew.jpg",mana:250,castTime:0,ticks:5,tickPortion:1},10928:{name:"Renew (Rank 8)",icon:"spell_holy_renew.jpg",mana:305,castTime:0,ticks:5,tickPortion:1},10929:{name:"Renew (Rank 9)",icon:"spell_holy_renew.jpg",mana:365,castTime:0,ticks:5,tickPortion:1},25315:{name:"Renew (Rank 10)",icon:"spell_holy_renew.jpg",mana:410,castTime:0,ticks:5,tickPortion:1},17:{name:"Power Word: Shield (Rank 1)",icon:"spell_holy_powerwordshield.jpg",mana:45,castTime:0},592:{name:"Power Word: Shield (Rank 2)",icon:"spell_holy_powerwordshield.jpg",mana:80,castTime:0},600:{name:"Power Word: Shield (Rank 3)",icon:"spell_holy_powerwordshield.jpg",mana:130,castTime:0},3747:{name:"Power Word: Shield (Rank 4)",icon:"spell_holy_powerwordshield.jpg",mana:175,castTime:0},6065:{name:"Power Word: Shield (Rank 5)",icon:"spell_holy_powerwordshield.jpg",mana:210,castTime:0},6066:{name:"Power Word: Shield (Rank 6)",icon:"spell_holy_powerwordshield.jpg",mana:250,castTime:0},10898:{name:"Power Word: Shield (Rank 7)",icon:"spell_holy_powerwordshield.jpg",mana:300,castTime:0},10899:{name:"Power Word: Shield (Rank 8)",icon:"spell_holy_powerwordshield.jpg",mana:355,castTime:0},10900:{name:"Power Word: Shield (Rank 9)",icon:"spell_holy_powerwordshield.jpg",mana:425,castTime:0},10901:{name:"Power Word: Shield (Rank 10)",icon:"spell_holy_powerwordshield.jpg",mana:500,castTime:0},2060:{name:"Greater Heal (Rank 1)",icon:"spell_holy_greaterheal.jpg",mana:370,castTime:3e3},10963:{name:"Greater Heal (Rank 2)",icon:"spell_holy_greaterheal.jpg",mana:455,castTime:3e3},10964:{name:"Greater Heal (Rank 3)",icon:"spell_holy_greaterheal.jpg",mana:545,castTime:3e3},10965:{name:"Greater Heal (Rank 4)",icon:"spell_holy_greaterheal.jpg",mana:655,castTime:3e3},25314:{name:"Greater Heal (Rank 5)",icon:"spell_holy_greaterheal.jpg",mana:710,castTime:3e3},774:{name:"Rejuvenation (Rank 1)",icon:"spell_nature_rejuvenation.jpg",mana:25,castTime:0,ticks:4,tickPortion:1},1058:{name:"Rejuvenation (Rank 2)",icon:"spell_nature_rejuvenation.jpg",mana:40,castTime:0,ticks:4,tickPortion:1},1430:{name:"Rejuvenation (Rank 3)",icon:"spell_nature_rejuvenation.jpg",mana:75,castTime:0,ticks:4,tickPortion:1},2090:{name:"Rejuvenation (Rank 4)",icon:"spell_nature_rejuvenation.jpg",mana:105,castTime:0,ticks:4,tickPortion:1},2091:{name:"Rejuvenation (Rank 5)",icon:"spell_nature_rejuvenation.jpg",mana:135,castTime:0,ticks:4,tickPortion:1},3627:{name:"Rejuvenation (Rank 6)",icon:"spell_nature_rejuvenation.jpg",mana:160,castTime:0,ticks:4,tickPortion:1},8910:{name:"Rejuvenation (Rank 7)",icon:"spell_nature_rejuvenation.jpg",mana:195,castTime:0,ticks:4,tickPortion:1},9839:{name:"Rejuvenation (Rank 8)",icon:"spell_nature_rejuvenation.jpg",mana:235,castTime:0,ticks:4,tickPortion:1},9840:{name:"Rejuvenation (Rank 9)",icon:"spell_nature_rejuvenation.jpg",mana:280,castTime:0,ticks:4,tickPortion:1},9841:{name:"Rejuvenation (Rank 10)",icon:"spell_nature_rejuvenation.jpg",mana:335,castTime:0,ticks:4,tickPortion:1},25299:{name:"Rejuvenation (Rank 11)",icon:"spell_nature_rejuvenation.jpg",mana:360,castTime:0,ticks:4,tickPortion:1},5185:{name:"Healing Touch (Rank 1)",icon:"spell_nature_healingtouch.jpg",mana:25,castTime:1500},5186:{name:"Healing Touch (Rank 2)",icon:"spell_nature_healingtouch.jpg",mana:55,castTime:2e3},5187:{name:"Healing Touch (Rank 3)",icon:"spell_nature_healingtouch.jpg",mana:110,castTime:2500},5188:{name:"Healing Touch (Rank 4)",icon:"spell_nature_healingtouch.jpg",mana:185,castTime:3e3},5189:{name:"Healing Touch (Rank 5)",icon:"spell_nature_healingtouch.jpg",mana:270,castTime:3500},6778:{name:"Healing Touch (Rank 6)",icon:"spell_nature_healingtouch.jpg",mana:335,castTime:3500},8903:{name:"Healing Touch (Rank 7)",icon:"spell_nature_healingtouch.jpg",mana:405,castTime:3500},9758:{name:"Healing Touch (Rank 8)",icon:"spell_nature_healingtouch.jpg",mana:495,castTime:3500},9888:{name:"Healing Touch (Rank 9)",icon:"spell_nature_healingtouch.jpg",mana:600,castTime:3500},9889:{name:"Healing Touch (Rank 10)",icon:"spell_nature_healingtouch.jpg",mana:720,castTime:3500},25297:{name:"Healing Touch (Rank 11)",icon:"spell_nature_healingtouch.jpg",mana:800,castTime:3500},8936:{name:"Regrowth (Rank 1)",icon:"spell_nature_resistnature.jpg",mana:120,castTime:2e3,ticks:7,tickPortion:.5},8938:{name:"Regrowth (Rank 2)",icon:"spell_nature_resistnature.jpg",mana:205,castTime:2e3,ticks:7,tickPortion:.5},8939:{name:"Regrowth (Rank 3)",icon:"spell_nature_resistnature.jpg",mana:280,castTime:2e3,ticks:7,tickPortion:.5},8940:{name:"Regrowth (Rank 4)",icon:"spell_nature_resistnature.jpg",mana:350,castTime:2e3,ticks:7,tickPortion:.5},8941:{name:"Regrowth (Rank 5)",icon:"spell_nature_resistnature.jpg",mana:420,castTime:2e3,ticks:7,tickPortion:.5},9750:{name:"Regrowth (Rank 6)",icon:"spell_nature_resistnature.jpg",mana:510,castTime:2e3,ticks:7,tickPortion:.5},9856:{name:"Regrowth (Rank 7)",icon:"spell_nature_resistnature.jpg",mana:615,castTime:2e3,ticks:7,tickPortion:.5},9857:{name:"Regrowth (Rank 8)",icon:"spell_nature_resistnature.jpg",mana:740,castTime:2e3,ticks:7,tickPortion:.5},9858:{name:"Regrowth (Rank 9)",icon:"spell_nature_resistnature.jpg",mana:880,castTime:2e3,ticks:7,tickPortion:.5},740:{name:"Tranquility (Rank 1)",icon:"spell_nature_tranquility.jpg",mana:375,castTime:0},8918:{name:"Tranquility (Rank 2)",icon:"spell_nature_tranquility.jpg",mana:505,castTime:0},9862:{name:"Tranquility (Rank 3)",icon:"spell_nature_tranquility.jpg",mana:695,castTime:0},9863:{name:"Tranquility (Rank 4)",icon:"spell_nature_tranquility.jpg",mana:925,castTime:0},18562:{name:"Swiftmend",icon:"inv_relics_idolofrejuvenation.jpg",mana:250,castTime:0},1064:{name:"Chain Heal (Rank 1)",icon:"spell_nature_healingwavegreater.jpg",mana:260,castTime:2500},10622:{name:"Chain Heal (Rank 2)",icon:"spell_nature_healingwavegreater.jpg",mana:315,castTime:2500},10623:{name:"Chain Heal (Rank 3)",icon:"spell_nature_healingwavegreater.jpg",mana:405,castTime:2500},8004:{name:"Lesser Healing Wave (Rank 1)",icon:"spell_nature_healingwavelesser.jpg",mana:105,castTime:1500},8008:{name:"Lesser Healing Wave (Rank 2)",icon:"spell_nature_healingwavelesser.jpg",mana:145,castTime:1500},8010:{name:"Lesser Healing Wave (Rank 3)",icon:"spell_nature_healingwavelesser.jpg",mana:185,castTime:1500},10466:{name:"Lesser Healing Wave (Rank 4)",icon:"spell_nature_healingwavelesser.jpg",mana:235,castTime:1500},10467:{name:"Lesser Healing Wave (Rank 5)",icon:"spell_nature_healingwavelesser.jpg",mana:305,castTime:1500},10468:{name:"Lesser Healing Wave (Rank 6)",icon:"spell_nature_healingwavelesser.jpg",mana:380,castTime:1500},331:{name:"Healing Wave (Rank 1)",icon:"spell_nature_magicimmunity.jpg",mana:25,castTime:1500},332:{name:"Healing Wave (Rank 2)",icon:"spell_nature_magicimmunity.jpg",mana:45,castTime:2e3},547:{name:"Healing Wave (Rank 3)",icon:"spell_nature_magicimmunity.jpg",mana:80,castTime:2500},913:{name:"Healing Wave (Rank 4)",icon:"spell_nature_magicimmunity.jpg",mana:155,castTime:3e3},939:{name:"Healing Wave (Rank 5)",icon:"spell_nature_magicimmunity.jpg",mana:200,castTime:3e3},959:{name:"Healing Wave (Rank 6)",icon:"spell_nature_magicimmunity.jpg",mana:265,castTime:3e3},8005:{name:"Healing Wave (Rank 7)",icon:"spell_nature_magicimmunity.jpg",mana:340,castTime:3e3},10395:{name:"Healing Wave (Rank 8)",icon:"spell_nature_magicimmunity.jpg",mana:440,castTime:3e3},10396:{name:"Healing Wave (Rank 9)",icon:"spell_nature_magicimmunity.jpg",mana:560,castTime:3e3},25357:{name:"Healing Wave (Rank 10)",icon:"spell_nature_magicimmunity.jpg",mana:620,castTime:3e3},746:{name:"Linen Bandage",icon:"inv_misc_bandage_15.jpg",mana:0,castTime:0},1159:{name:"Heavy Linen Bandage",icon:"inv_misc_bandage_18.jpg",mana:0,castTime:0},3267:{name:"Wool Bandage",icon:"inv_misc_bandage_14.jpg",mana:0,castTime:0},3268:{name:"Heavy Wool Bandage",icon:"inv_misc_bandage_17.jpg",mana:0,castTime:0},7926:{name:"Silk Bandage",icon:"inv_misc_bandage_01.jpg",mana:0,castTime:0},7927:{name:"Heavy Silk Bandage",icon:"inv_misc_bandage_02.jpg",mana:0,castTime:0},10838:{name:"Mageweave Bandage",icon:"inv_misc_bandage_19.jpg",mana:0,castTime:0},10839:{name:"Heave Mageweave Bandage",icon:"inv_misc_bandage_20.jpg",mana:0,castTime:0},18608:{name:"Runecloth Bandage",icon:"inv_misc_bandage_11.jpg",mana:0,castTime:0},18610:{name:"Heavy Runecloth Bandage",icon:"inv_misc_bandage_12.jpg",mana:0,castTime:0}},f={14751:{name:"Inner Focus",icon:"spell_frost_windwalkon.jpg",cooldown:18e4},17116:{name:"Nature's Swiftness",icon:"spell_nature_ravenform.jpg",cooldown:18e4},16188:{name:"Nature's Swiftness",icon:"spell_nature_ravenform.jpg",cooldown:18e4},29166:{name:"Innervate",icon:"spell_nature_lightning.jpg",cooldown:36e4},16190:{name:"Mana Tide Totem (Rank 1)",icon:"spell_frost_summonwaterelemental.jpg",cooldown:3e5},17354:{name:"Mana Tide Totem (Rank 2)",icon:"spell_frost_summonwaterelemental.jpg",cooldown:3e5},17359:{name:"Mana Tide Totem (Rank 3)",icon:"spell_frost_summonwaterelemental.jpg",cooldown:3e5},20484:{name:"Rebirth (Rank 1)",icon:"spell_nature_reincarnation.jpg",cooldown:18e5},20739:{name:"Rebirth (Rank 2)",icon:"spell_nature_reincarnation.jpg",cooldown:18e5},20742:{name:"Rebirth (Rank 3)",icon:"spell_nature_reincarnation.jpg",cooldown:18e5},20747:{name:"Rebirth (Rank 4)",icon:"spell_nature_reincarnation.jpg",cooldown:18e5},20748:{name:"Rebirth (Rank 5)",icon:"spell_nature_reincarnation.jpg",cooldown:18e5},740:{name:"Tranquility (Rank 1)",icon:"spell_nature_tranquility.jpg",cooldown:3e5},8918:{name:"Tranquility (Rank 2)",icon:"spell_nature_tranquility.jpg",cooldown:3e5},9862:{name:"Tranquility (Rank 3)",icon:"spell_nature_tranquility.jpg",cooldown:3e5},9863:{name:"Tranquility (Rank 4)",icon:"spell_nature_tranquility.jpg",cooldown:3e5},20554:{name:"Berserking",icon:"racial_troll_berserk.jpg",cooldown:18e4}},w=function(){function e(){Object(l.a)(this,e),this.manaPots=0,this.runes=0,this.manaGained=0,this.castsStarted=0,this.castsCompleted=0,this.effectiveHeals=0,this.overHeal=0,this.wastedHeals=0,this.wastedMana=0,this.cooldowns=[]}return Object(o.a)(e,[{key:"getCastsPercent",value:function(){return(this.castsStarted>0?this.castsCompleted/this.castsStarted*100:0).toFixed(2)}},{key:"getTotalHeals",value:function(){return this.effectiveHeals+this.overHeal}},{key:"getEffectivePercent",value:function(){return(this.getTotalHeals()>0?this.effectiveHeals/this.getTotalHeals()*100:0).toFixed(2)}},{key:"getOverhealPercent",value:function(){return(this.getTotalHeals()>0?this.overHeal/this.getTotalHeals()*100:0).toFixed(2)}},{key:"getWastedPercent",value:function(){return(this.getTotalHeals()>0?this.wastedHeals/this.getTotalHeals()*100:0).toFixed(2)}}]),e}();function y(e,a,t){var n=t(e,a);if(n){27869!==a.ability.guid&&16666!==a.ability.guid||(n.runes++,n.manaGained+=1500),17531===a.ability.guid&&(n.manaPots++,n.manaGained+=2250);var s=b[a.ability.guid];s&&("begincast"===a.type?n.castsStarted++:"cast"===a.type&&(0===s.castTime&&n.castsStarted++,n.castsCompleted++)),"heal"!==a.type&&"absorbed"!==a.type||(a.amount&&(n.effectiveHeals+=a.amount),a.overheal&&(n.overHeal+=a.overheal,0===a.amount&&(n.wastedHeals+=a.overheal,a.tick&&s&&s.ticks?n.wastedMana+=s.mana*s.tickPortion/s.ticks:n.wastedMana+=s?s.mana:0))),"cast"===a.type&&f[a.ability.guid]&&n.cooldowns.push(f[a.ability.guid])}}var T=function(e){Object(h.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).state={error:null,reportId:e.reportId,fight:e.fight,events:[],healers:[],isLoaded:!1,healSummary:null,expanded:!1},n.toggle=n.toggle.bind(Object(m.a)(n)),n}return Object(o.a)(t,[{key:"loadData",value:function(){var e=this,a=this.state,t=a.reportId,n=a.fight,s=a.isLoaded,i=this.props.characters;t&&n&&!s&&j.getHealEvents(n.start_time,n.end_time).then((function(a){for(var t=e.getCharactersFromEvents(a),n=[],s=0,c=Object.entries(t.characters);s<c.length;s++){var r=Object(u.a)(c[s],2),l=r[0],o=r[1];i[l]&&n.push({id:l,name:i[l].name,classType:i[l].type,summary:o.total,spells:Object.entries(o.spells).map((function(e){return e[1]}))})}e.setState({isLoaded:!0,events:a.events,healSummary:t.total,healers:n})}),(function(a){e.setState({isLoaded:!0,error:a})}))}},{key:"getCharactersFromEvents",value:function(e){return e.reduce((function(e,a){return y(e,a,(function(e,a){return e.total})),y(e,a,(function(e,a){var t=a.sourceID;return e.characters[t]||(e.characters[t]={total:new w,spells:{}}),e.characters[t].total})),y(e,a,(function(e,a){var t=a.sourceID,n=a.ability.guid,s=b[n];return s?(e.characters[t].spells[n]||(e.characters[t].spells[n]={id:n,name:s.name,icon:s.icon,summary:new w}),e.characters[t].spells[n].summary):null})),e}),{total:new w,characters:{}})}},{key:"toggle",value:function(){this.setState({expanded:!this.state.expanded}),this.loadData()}},{key:"render",value:function(){var e,a=this.state,t=a.error,s=a.isLoaded,i=a.fight,c=a.healSummary,r=a.healers,l=a.expanded;if(t)e=Object(n.jsxs)("div",{children:["Error: ",t.message]});else if(s){var o=r.reduce((function(e,a){return a.summary.getTotalHeals()>e&&(e=a.summary.getTotalHeals()),e}),0);e=Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("table",{children:[Object(n.jsxs)("thead",{children:[Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"healer_name",rowSpan:"2",children:"Name"}),Object(n.jsx)("td",{className:"healer_consumes",colSpan:"4",children:"Consumes"}),Object(n.jsx)("td",{className:"healer_consumes_mana",rowSpan:"2",children:"Mana Gained"}),Object(n.jsx)("td",{className:"healer_cooldowns",rowSpan:"2",children:"Cooldowns"}),Object(n.jsx)("td",{className:"healer_casts",colSpan:"3",children:"Casts"}),Object(n.jsx)("td",{className:"healer_amount",rowSpan:"2",children:"Amount"}),Object(n.jsx)("td",{className:"healer_effective center",colSpan:"2",children:"Effective"}),Object(n.jsx)("td",{className:"healer_overheal center",colSpan:"2",children:"Overheal"}),Object(n.jsx)("td",{className:"healer_wasted center",colSpan:"3",children:"Wasted"})]}),Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"healer_consumes_mana center",children:Object(n.jsx)("img",{src:"https://assets.rpglogs.com/img/warcraft/abilities/inv_potion_76.jpg",width:"24",height:"24",alt:"Major Mana Potion"})}),Object(n.jsx)("td",{className:"healer_consumes_runes center",children:Object(n.jsx)("img",{src:"https://assets.rpglogs.com/img/warcraft/abilities/inv_misc_rune_04.jpg",width:"24",height:"24",alt:"Demonic Runes"})}),Object(n.jsx)("td",{className:"healer_consumes_mageblood center",children:Object(n.jsx)("img",{src:"https://assets.rpglogs.com/img/warcraft/abilities/inv_potion_45.jpg",width:"24",height:"24",alt:"Mageblood Potion"})}),Object(n.jsx)("td",{className:"healer_consumes_flask center",children:Object(n.jsx)("img",{src:"https://assets.rpglogs.com/img/warcraft/abilities/inv_potion_97.jpg",width:"24",height:"24",alt:"Flask of Distilled Wisdom"})}),Object(n.jsx)("td",{className:"healer_casts_started center",children:"Start"}),Object(n.jsx)("td",{className:"healer_casts_completed center",children:"Finish"}),Object(n.jsx)("td",{className:"healer_casts percent right",children:"%"}),Object(n.jsx)("td",{className:"healer_effective amount right",children:"#"}),Object(n.jsx)("td",{className:"healer_effective percent right",children:"%"}),Object(n.jsx)("td",{className:"healer_overheal amount right",children:"#"}),Object(n.jsx)("td",{className:"healer_overheal percent right",children:"%"}),Object(n.jsx)("td",{className:"healer_wasted amount right",children:"#"}),Object(n.jsx)("td",{className:"healer_wasted percent right",children:"%"}),Object(n.jsx)("td",{className:"healer_wasted amount right",children:"Mana"})]})]}),Object(n.jsx)("tbody",{children:r.sort((function(e,a){return a.summary.effectiveHeals-e.summary.effectiveHeals})).map((function(e,a){return Object(n.jsx)(k,{healer:e,row:a,maxHeals:o},e.id)}))}),Object(n.jsx)("tfoot",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{className:"healer_name",children:"Total"}),Object(n.jsx)("td",{className:"healer_consumes_mana center",children:c.manaPots}),Object(n.jsx)("td",{className:"healer_consumes_runes center",children:c.runes}),Object(n.jsx)("td",{className:"healer_consumes_mageblood center",colspan:"2"}),Object(n.jsx)("td",{className:"right",children:_(c.manaGained)}),Object(n.jsx)("td",{className:"healer_cooldowns"}),Object(n.jsx)("td",{className:"healer_casts_started center",children:c.castsStarted}),Object(n.jsx)("td",{className:"healer_casts_completed center",children:c.castsCompleted}),Object(n.jsxs)("td",{className:"healer_casts percent center",children:[c.getCastsPercent(),"%"]}),Object(n.jsx)("td",{className:"healer_amount",children:"\xa0"}),Object(n.jsx)("td",{className:"healer_effective amount right",children:_(c.effectiveHeal)}),Object(n.jsxs)("td",{className:"healer_effective percent right",children:[c.getEffectivePercent(),"%"]}),Object(n.jsx)("td",{className:"healer_overheal amount right",children:_(c.overHeal)}),Object(n.jsxs)("td",{className:"healer_overheal percent right",children:[c.getOverhealPercent(),"%"]}),Object(n.jsx)("td",{className:"healer_wasted amount right",children:_(c.wastedHeals)}),Object(n.jsxs)("td",{className:"healer_wasted percent right",children:[c.getWastedPercent(),"%"]}),Object(n.jsx)("td",{className:"healer_wasted percent right",children:_(c.wastedMana)})]})})]})})}else e=Object(n.jsx)("div",{children:"Loading..."});return Object(n.jsxs)("div",{className:"fight "+(i.kill?"success":"fail"),children:[Object(n.jsxs)("div",{className:"heading",onClick:this.toggle,children:[i.name," (",p(i.end_time-i.start_time),")"]}),l&&e]})}}]),t}(s.Component),O=function(e){Object(h.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).state={error:null,fights:[],characters:[],isLoaded:!1,reportId:e.reportId},n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.reportId&&j.getFights().then((function(a){e.setState({isLoaded:!0,fights:a.fights.filter((function(e){return 0!==e.boss})),characters:a.friendlies.reduce((function(e,a){var t=a.id;return e[t]||(e[t]=a),e}),{})})}),(function(a){e.setState({isLoaded:!0,error:a})}))}},{key:"render",value:function(){var e=this.state,a=e.error,t=e.isLoaded,s=e.fights,i=e.reportId,c=e.characters;return a?Object(n.jsxs)("div",{children:["Error: ",a.message]}):t?Object(n.jsx)(n.Fragment,{children:s.map((function(e){return Object(n.jsx)(T,{fight:e,characters:c,reportId:i},e.id)}))}):Object(n.jsx)("div",{children:"Loading ..."})}}]),t}(s.Component),R=t(12),x=t.n(R),H=function(e){Object(h.a)(t,e);var a=Object(d.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).state={reportInput:null,reportId:""},n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.handleChange=n.handleChange.bind(Object(m.a)(n)),n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=x.a.parse(window.location.search);e&&e.id&&(this.setState({reportId:e.id}),j.setReport(e.id))}},{key:"handleChange",value:function(e){this.setState({reportInput:e.target.value})}},{key:"handleSubmit",value:function(e){var a=this.state.reportInput;this.setState({reportId:a}),j.setReport(a),e.preventDefault()}},{key:"render",value:function(){var e=this.state.reportId;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:["Enter your Classic Warcraft Logs ID: ",Object(n.jsx)("input",{type:"text",value:e,onChange:this.handleChange})," ",Object(n.jsx)("input",{type:"submit",value:"Go"})]})}),""!==e&&Object(n.jsx)(O,{reportId:e})]})}}]),t}(s.Component),N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,24)).then((function(a){var t=a.getCLS,n=a.getFID,s=a.getFCP,i=a.getLCP,c=a.getTTFB;t(e),n(e),s(e),i(e),c(e)}))};r.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(H,{})}),document.getElementById("root")),N()}},[[23,1,2]]]);
//# sourceMappingURL=main.7211dc8e.chunk.js.map